<?php defined('CORENINPAGE') or die('Hack!');

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

class account_information_0 extends module implements dbaware
{

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//no data

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

function __construct ($configs)
{
	parent::__construct($configs);
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

function accounts_information ($args)
{
	$ids = isset($args['ids']) ? $args['ids'] : null;
	if (!is_array($ids)) $ids = array();

	$data = core::db('select_accounts_data', compact('ids'));
	$info = core::db('select_accounts_info', compact('ids'));

	$result = array();
	foreach ($data as $key => $val)
	{
		$result[$val['account']] = $val;
	}
	foreach ($info as $key => $val)
	{
		$result[$val['account']]['.' . $val['value']] = $val['content'];
	}

	return $result;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

function resolve_logname ($args)
{
	$logname = isset($args['logname']) ? $args['logname'] : null;
	if (is_null($logname)) return null;

	$account = core::db('resolve_logname', compact('logname'));
	return $account;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
}

?>