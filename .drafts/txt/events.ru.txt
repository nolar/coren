
ПРИНЦИП
=======
Практически все взаимодействие между модулями построено на событиях. За исключением разве что вызова
database broker из модуля, и database agent из database broker'а.



ТИПЫ СОБЫТИЙ
============
Можно выделить три типа событий:
* запрос данных;
* директива к действую;
* сообщение о состоянии.

Запрос данных - это событие, которое ожидает что хотя бы один из обработчиков события вернет не-null
значение, которое в тот же момент и будет возвращено генератору события. Обычно если вызов событие
на запрос данных вернул null, то это означает, что ни один модуль-обработчик не нашел что вернуть,
и как правило является логической ошибкой. Авторы модулей сами решают как модулю вести себя, если он
не получил нужных ему данных. Кроме того, никто не запрещает вешать на событие запроса данных обычные
протокольные модули. Главное - чтобы оин стояли до любого модуля, который может вернуть значение,
и сами при этом никакого значения не возвращали.

Директива к действию - это событие, которое велит что-то сделать. В принципе, они аналогичны событиям
запроса данных, с тем лишь отличием что результат вызова такого события как таковой никого не волнует
и, как правило, даже не запоминается. Максимум, в котором обычно учавствует результат - это проверка
что он вообще есть: это может означать что директива выполнена. Обработчикам рекомендуется в случае
успешного выполнения действия возвращать любое не-null значение (например, true), чтобы, во-первых,
прекратить обработку события, а во-вторых сигнализировать генератору события что действие выполнено.

Сообщения о состоянии - это события, которые, как и следует из названия категории, сообщают что модуль
достиг определенного состояния. Как и в случае директив к действию, результат такого события никого
не волнует и часто не запоминается. Но в данном случае не рекомендуется навешивать на такое событие
обработчики, которые прерывают обработку событяи возвратом не-null значения; хотя это и не запрещено.
Сообщениями о состоянии обычно можно считать все событие, которые нельзя назвать директивами или
запросами. У сообщений о состоянии может вообще не быть обработчиков - зависит от ситуации и нужды.
Следует помнить, что сообщения о состоянии могут быть вообще выключены в каждом отдельном модулей
заданием конфига silent. Кроме того, сообщения о состоянии практически всегда сопровождаются выводом
те же данных в результирующий DOM (если, конечно, не задан конфиг hidden).



ИМЕНОВАНИЕ
==========
Имена событий рекомендуется строить по принципу:
* originator?purpose	- для запроса данных (тип и назначение задается в purpose);
* originator!action	- для директив к действию;
* originator:status	- для оповещения о состоянии.
Здесь везде originator - это условное имя того модуля, который генерирует событие.

Обычно originator является составным, и содержит (через точку):
* имя подсистемы, которой принадлежит модуль
* имя самого модуля или имя сущности, которой он оперирует
* обозначение ситуации, для которой генерируется событие.

Хотя, как правило, имена событий можно задать в конфиге модуля, все-таки рекомендуется придерживаться
этой схемы - так понятнее какое событие для чего предназначено, что очень помогает в отладке.

