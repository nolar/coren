<?php defined('CORENINPAGE') or die('Hack!');
####################################################################################################
####################################################################################################
####################################################################################################
#
class _uri_parser_0 extends coren_tool
{
#
####################################################################################################
####################################################################################################
####################################################################################################
#
//todo later: argument $base (for different page relinking).
public static function relink ($changes = null, $forced = null)
{
	if (!is_array($changes))
	{
		$newchanges = array();
		parse_str($changes, $newchanges);
		$changes = $newchanges;
	}

	$values = array();
	foreach ($_GET    as $key => $val) $values[$key] = $val;
	foreach ($changes as $key => $val) $values[$key] = $val;

	$query = array();
	foreach ($values as $key => $val)
		if (!is_null($val))
			$query[] = urlencode($key) . '=' . urlencode($val);
	$query = implode('&', $query);

	return (($query != '') || $forced) ? '?' . $query : '';
}
#
####################################################################################################
####################################################################################################
####################################################################################################
}
?>