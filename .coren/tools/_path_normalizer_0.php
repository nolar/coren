<?php defined('CORENINPAGE') or die('Hack!');
####################################################################################################
####################################################################################################
####################################################################################################
#
class _path_normalizer_0 extends coren_tool
{
#
####################################################################################################
####################################################################################################
####################################################################################################
#
public static function normalize_dir ($path, $root = null)
{
	$result = $root == '' ? $path : $root . "/" . $path;
	$result = str_replace("\\", "/", $result);
	$result = preg_replace("|/(/)+|"   , "/", $result);
	$result = preg_replace("|/(\\./)+|", "/", $result);
	for ($count = !0; $count;)
	$result = preg_replace("|(?!/\\.\\./)/[^/]+/\\.\\./|", "/", $result, -1, $count);
	$result = rtrim($result , "/") . "/";
	return $result;
}
#
####################################################################################################
####################################################################################################
####################################################################################################
}
?>